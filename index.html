<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jannah's Quran Academy: Interactive Curriculum</title>
    
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Noto+Sans:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Chosen Palette: "Golden Guidance" -->
    <!-- 
        Primary Background: Stone-50 (#fafaf9)
        Primary Text: Slate-900 (#0f172a)
        Brand Color 1 (Foundation): Emerald-700 (#047857)
        Brand Color 2 (Builders): Amber-600 (#d97706)
        Accent: Teal-900 (#134e4a) for Headers
    -->

    <!-- Application Structure Plan: 
         1. **Hero Section:** Introduction to the Academy's mission and the 12-stage structure.
         2. **Curriculum Composition (Dashboard):** Visualizing the balance between Reading, Hifz, and Studies (Donut Chart).
         3. **The Mastery Path (Core Interaction):** An interactive timeline allowing users to explore the 12 Stages. Clicking a stage updates a detailed view card with Qaida focus, Hifz goals, and Activities.
         4. **Hifz Accumulation (Trends):** A Line/Bar combo chart showing the cumulative memorization growth across stages.
         5. **Thematic Cycles (Cards):** Displaying the recurring Aqeedah themes.
         This structure moves from the abstract (philosophy) to the specific (stage-by-stage details) to the analytical (progress).
    -->

    <!-- Visualization & Content Choices:
         1. **Curriculum Weight (Chart.js Donut):** - Goal: Inform (Show proportion of lesson time/focus).
            - Interaction: Tooltip details.
            - Justification: Best for showing parts of a whole (Recitation vs. Memorization vs. Studies).
         2. **Hifz Progression (Chart.js Line/Bar):**
            - Goal: Change (Cumulative knowledge over stages).
            - Justification: Demonstrates the growth trajectory for a student.
         3. **Stage Explorer (HTML/CSS/JS Grid):**
            - Goal: Organize (Structured content navigation).
            - Interaction: Click-to-update detail view.
            - Justification: Replaces a long, scrolling text document with an interactive dashboard.
         4. **Theme Cards (HTML/CSS):**
            - Goal: Inform (Visualizing core topics).
            - Justification: Simple cards are better than charts for qualitative data like "Who is Allah?".
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Noto Sans', sans-serif;
            background-color: #fafaf9; /* stone-50 */
            color: #0f172a; /* slate-900 */
        }
        h1, h2, h3, .arabic-text {
            font-family: 'Amiri', serif;
        }
        
        /* Chart Container Styling - Mandatory Constraint Compliance */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px; /* Adjust for desktop */
            }
        }

        /* Custom Scrollbar for the Detail View */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Interactive Element Transitions */
        .stage-btn {
            transition: all 0.3s ease;
        }
        .stage-btn:hover {
            transform: translateY(-2px);
        }
        .stage-btn.active {
            transform: scale(1.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Hero Section -->
    <header class="bg-gradient-to-r from-emerald-900 to-teal-800 text-white p-8 md:p-12 shadow-xl">
<div class="max-w-7xl mx-auto flex justify-end">
  <a href="https://forms.gle/cdRnsFtvmwjatqhT8" target="_blank" rel="noopener" class="mt-2 inline-flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-emerald-900 font-bold px-5 py-2 rounded-full shadow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-400 transition">
    <span>Register Now</span>
  </a>
</div>

        <div class="max-w-7xl mx-auto text-center">
            <div class="inline-block bg-amber-500 text-emerald-900 font-bold px-3 py-1 rounded-full text-xs uppercase tracking-wider mb-4">Ages 5-12</div>
            <h1 class="text-4xl md:text-6xl font-bold mb-4">Jannah's Quran Academy</h1>
            <p class="text-xl md:text-2xl text-emerald-100 font-light max-w-2xl mx-auto">
                A 12-Stage Mastery Curriculum blending the Noorani Qaida method with Hifz and Islamic Studies.
            </p>
        </div>
    </header>

    <!-- Main Container -->
    <main class="flex-grow container mx-auto px-4 py-8 md:py-12 space-y-16">

        <!-- Section 1: Curriculum Composition -->
        <section>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center bg-white rounded-2xl p-8 shadow-sm border border-stone-200">
                <div>
                    <h2 class="text-3xl font-bold text-teal-900 mb-4 border-l-4 border-amber-500 pl-4">The Balanced Approach</h2>
                    <p class="text-stone-600 mb-6 leading-relaxed">
                        Our curriculum is not just about reading. It is a holistic system designed to build a strong foundation (Level 1) and then construct advanced skills (Level 2). Each session integrates three core pillars to ensure consistent growth.
                    </p>
                    <div class="space-y-4">
                        <div class="flex items-center p-3 bg-emerald-50 rounded-lg border border-emerald-100">
                            <span class="text-2xl mr-4">üìñ</span>
                            <div>
                                <h4 class="font-bold text-emerald-800">Qaida & Tajweed</h4>
                                <p class="text-xs text-emerald-600">Correct pronunciation and reading rules.</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 bg-amber-50 rounded-lg border border-amber-100">
                            <span class="text-2xl mr-4">ü§≤</span>
                            <div>
                                <h4 class="font-bold text-amber-800">Hifz & Du'a</h4>
                                <p class="text-xs text-amber-600">Memorization of Surahs and daily supplications.</p>
                            </div>
                        </div>
                        <div class="flex items-center p-3 bg-slate-50 rounded-lg border border-slate-200">
                            <span class="text-2xl mr-4">üß†</span>
                            <div>
                                <h4 class="font-bold text-slate-800">Aqeedah & Fiqh</h4>
                                <p class="text-xs text-slate-600">Islamic beliefs, manners, and understanding.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-sm font-bold uppercase text-stone-400 mb-4 tracking-widest">Curriculum Weighting</h3>
                    <div class="chart-container">
                        <canvas id="compositionChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Interactive Mastery Path (The Core) -->
        <section id="mastery-path">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-teal-900 mb-2">The Mastery Path</h2>
                <p class="text-stone-600">Explore the 12 stages. Click on a booklet number to reveal the learning focus.</p>
            </div>

            <!-- Level Toggle / Indicator -->
            <div class="flex justify-center mb-8 gap-4">
                <div class="flex items-center gap-2">
                    <div class="w-4 h-4 bg-emerald-600 rounded-full"></div>
                    <span class="text-sm font-bold text-emerald-800">Level 1: Foundation (Stages 1-6)</span>
                </div>
                <div class="flex items-center gap-2">
                    <div class="w-4 h-4 bg-amber-600 rounded-full"></div>
                    <span class="text-sm font-bold text-amber-800">Level 2: Builders (Stages 7-12)</span>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                <!-- Selector Grid (Left Col) -->
                <div class="lg:col-span-4 grid grid-cols-3 gap-3 content-start">
                    <!-- JS will populate these buttons -->
                    <div id="stage-buttons-container" class="contents"></div>
                </div>

                <!-- Detail View (Right Col) -->
                <div class="lg:col-span-8">
                    <div id="detail-card" class="bg-white rounded-2xl shadow-lg border-t-8 border-emerald-600 p-8 min-h-[500px] transition-all duration-300">
                        <!-- Dynamic Content Loaded Here -->
                        <div class="flex h-full items-center justify-center text-stone-400">
                            <p>Select a stage to view details</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Cumulative Growth Analysis -->
        <section>
            <div class="bg-slate-50 rounded-2xl p-8 border border-slate-200">
                <h2 class="text-2xl font-bold text-slate-800 mb-2">Hifz Growth Trajectory</h2>
                <p class="text-sm text-stone-500 mb-6">Cumulative number of Surahs memorized as the student progresses through the stages.</p>
                <div class="chart-container w-full">
                    <canvas id="growthChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Section 4: Thematic Knowledge -->
        <section>
            <h2 class="text-3xl font-bold text-teal-900 mb-8 border-b border-stone-200 pb-4">Knowledge Cycles (Aqeedah & Fiqh)</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Card 1 -->
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow border-t-4 border-emerald-500">
                    <div class="text-4xl mb-4">üïå</div>
                    <h3 class="font-bold text-lg text-emerald-800 mb-2">Core Beliefs</h3>
                    <p class="text-sm text-stone-600 mb-4">Focus on Tawheed, the nature of Allah, and the Shahada.</p>
                    <div class="text-xs bg-stone-100 p-2 rounded text-stone-500">Stages 1, 7</div>
                </div>
                <!-- Card 2 -->
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow border-t-4 border-amber-500">
                    <div class="text-4xl mb-4">üìú</div>
                    <h3 class="font-bold text-lg text-amber-800 mb-2">Prophetic History</h3>
                    <p class="text-sm text-stone-600 mb-4">Stories of the Prophets, Seerah of Muhammad (PBUH), and Revelation.</p>
                    <div class="text-xs bg-stone-100 p-2 rounded text-stone-500">Stages 2, 9</div>
                </div>
                <!-- Card 3 -->
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow border-t-4 border-emerald-500">
                    <div class="text-4xl mb-4">üíß</div>
                    <h3 class="font-bold text-lg text-emerald-800 mb-2">Fiqh & Worship</h3>
                    <p class="text-sm text-stone-600 mb-4">Practical rules of Wudu, Salah, and daily cleanliness.</p>
                    <div class="text-xs bg-stone-100 p-2 rounded text-stone-500">Stages 3, 4</div>
                </div>
                <!-- Card 4 -->
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow border-t-4 border-amber-500">
                    <div class="text-4xl mb-4">ü§ù</div>
                    <h3 class="font-bold text-lg text-amber-800 mb-2">Akhlaq (Manners)</h3>
                    <p class="text-sm text-stone-600 mb-4">Respect for parents, honesty, and social responsibilities.</p>
                    <div class="text-xs bg-stone-100 p-2 rounded text-stone-500">Stages 6, 12</div>
                </div>
            </div>
        </section>

    
  <!-- Bottom CTA: Register -->
  <section id="register" class="bg-white/80 backdrop-blur rounded-2xl border border-amber-200 shadow-sm p-8 md:p-12">
    <div class="text-center space-y-4">
      <h2 class="text-3xl md:text-4xl font-bold text-emerald-800">Ready to join Jannah's Quran Academy?</h2>
      <p class="text-stone-600 max-w-2xl mx-auto">Secure a spot for your child in our 12-stage mastery curriculum. Limited places each term.</p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
        <a href="https://forms.gle/cdRnsFtvmwjatqhT8" target="_blank" rel="noopener" class="inline-flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-emerald-900 font-bold px-6 py-3 rounded-full shadow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-400 transition">
          <span>Register Now</span>
          <span aria-hidden="true">‚Üí</span>
        </a>
        <a href="#mastery-path" class="text-emerald-900/80 hover:text-emerald-900 underline underline-offset-4">Explore the stages first</a>
      </div>
    </div>
  </section>
 </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 py-10 text-center">
        <div class="container mx-auto">
            <p class="mb-2 text-emerald-500 font-bold">Jannah's Quran Academy</p>
            <p class="text-sm">Empowering the next generation through the Quran.</p>
      <div class="mt-6">
        <a href="https://forms.gle/cdRnsFtvmwjatqhT8" target="_blank" rel="noopener" class="inline-flex items-center gap-2 bg-amber-500 hover:bg-amber-600 text-emerald-900 font-bold px-5 py-2 rounded-full shadow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-400 transition">
          <span>Register Now</span>
        </a>
      </div>

        </div>
    </footer>

    <!-- Logic & Data -->
    <script>
        // --- Data Source: Jannah's Academy 12-Stage Curriculum ---
        const curriculumData = [
            // LEVEL 1: FOUNDATION
            {
                id: 1, level: 1, 
                title: "The Alphabet", 
                qaida: "Huroof Mufradaat (Single Letters). Emphasis on Makharij (Articulation).", 
                hifz: "Surah Al-Fatiha", 
                aqeedah: "Who is Allah? (The Creator, The One).", 
                work: "Tracing the Arabic Alphabet.",
                mastery: "Correctly articulate 80% of single letters."
            },
            {
                id: 2, level: 1, 
                title: "Joined Letters", 
                qaida: "Initial, Medial, and Final forms. Connecting 2-3 letters.", 
                hifz: "Surah An-Nas & Al-Falaq", 
                aqeedah: "Prophet Muhammad (PBUH): The Truthful & Trustworthy.", 
                work: "Copying joined words.",
                mastery: "Identify basic letter forms in words."
            },
            {
                id: 3, level: 1, 
                title: "Short Vowels", 
                qaida: "Harakat (Fatha, Kasra, Damma). 1 Count length.", 
                hifz: "Surah Al-Ikhlas & Al-Masad", 
                aqeedah: "Wudu: Steps of purification.", 
                work: "Matching words with vowel signs.",
                mastery: "Read simple words with consistent speed."
            },
            {
                id: 4, level: 1, 
                title: "Tanween", 
                qaida: "Double Vowels. The 'N' sound.", 
                hifz: "Surah An-Nasr & Al-Kafirun", 
                aqeedah: "The 5 Pillars of Islam.", 
                work: "Practice reading 3-letter words with Tanween.",
                mastery: "Apply the nasal 'N' sound correctly."
            },
            {
                id: 5, level: 1, 
                title: "Long Vowels", 
                qaida: "Letters of Mad (Alif, Waw, Ya). 2 Count stretch.", 
                hifz: "Surah Al-Kawthar & Al-Ma'un", 
                aqeedah: "Belief in Angels.", 
                work: "Tracing words containing Mad.",
                mastery: "Distinguish between Short (1 count) and Long (2 count) vowels."
            },
            {
                id: 6, level: 1, 
                title: "Readiness", 
                qaida: "Sukoon (Stop) & Shaddah (Emphasis).", 
                hifz: "Surah Al-Quraish", 
                aqeedah: "Manners: Honesty & Respect.", 
                work: "Writing practice with Shaddah.",
                mastery: "Read random Qaida page with 90% accuracy."
            },
            // LEVEL 2: BUILDERS
            {
                id: 7, level: 2, 
                title: "Adv. Symbols", 
                qaida: "Qalqalah (Bounce) & Ghunnah (Nasal).", 
                hifz: "Review Juzz 30 (Nas to Fil)", 
                aqeedah: "Tawheed (Rububiyyah, Uluhiyyah, Asma wa Sifat).", 
                work: "Marking Qalqalah in Surah Al-Falaq.",
                mastery: "Apply Qalqalah and 2-count Ghunnah."
            },
            {
                id: 8, level: 2, 
                title: "Meem Rules", 
                qaida: "Meem Sakin: Idgham, Ikhfa, Izhar.", 
                hifz: "Surah An-Naba (1-40)", 
                aqeedah: "Belief in Revealed Books.", 
                work: "Annotate Meem rules in Surah Al-Fil.",
                mastery: "Identify the 3 Meem Sakin rules."
            },
            {
                id: 9, level: 2, 
                title: "Advanced Mad", 
                qaida: "Muttasil (Connected) vs Munfasil (Separated). 4-5 Counts.", 
                hifz: "Surah An-Naziat", 
                aqeedah: "Stories of the Prophets.", 
                work: "Write definitions of Mad types.",
                mastery: "Consistent 4-5 count stretching."
            },
            {
                id: 10, level: 2, 
                title: "Izhar & Raa", 
                qaida: "Noon Sakin Izhar (Clear). Heavy vs Light Raa.", 
                hifz: "Surah At-Takwir", 
                aqeedah: "Qadr (Divine Decree).", 
                work: "Find N. Sakin instances in Surah Kafirun.",
                mastery: "Clear pronunciation of Throat Letters."
            },
            {
                id: 11, level: 2, 
                title: "Ikhfa & Idgham", 
                qaida: "Noon Sakin: Hiding vs Merging.", 
                hifz: "Surah Al-Buruj", 
                aqeedah: "The Last Day (Qiyamah).", 
                work: "Differentiate Ikhfa and Idgham examples.",
                mastery: "Apply nasal sound for Ikhfa/Idgham."
            },
            {
                id: 12, level: 2, 
                title: "Mastery", 
                qaida: "Waqf (Stopping Rules). Final Review.", 
                hifz: "Surah Al-A'la & Ghashiyah", 
                aqeedah: "Social Manners (Rights of Neighbors).", 
                work: "Final Tajweed Exam.",
                mastery: "Recite unseen passage with 95% accuracy."
            }
        ];

        // --- Helper: Label Wrapping ---
        function wrapLabel(str, maxChars) {
            if (str.length <= maxChars) return str;
            const words = str.split(' ');
            let lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= maxChars) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- 1. Composition Chart ---
        function initCompositionChart() {
            const ctx = document.getElementById('compositionChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Qaida/Rules (50%)', 'Hifz/Memorization (30%)', 'Studies/Aqeedah (20%)'],
                    datasets: [{
                        data: [50, 30, 20],
                        backgroundColor: ['#047857', '#d97706', '#64748b'], // Emerald, Amber, Slate
                        borderWidth: 2,
                        borderColor: '#ffffff',
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    return Array.isArray(label) ? label.join(' ') : label;
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- 2. Growth Chart ---
        function initGrowthChart() {
            const ctx = document.getElementById('growthChart').getContext('2d');
            
            // Generate labels wrapped
            const labels = curriculumData.map(s => wrapLabel(`Stage ${s.id}: ${s.title}`, 12));
            
            // Cumulative Surah count (Approximate based on booklet data)
            // L1: 1, 3, 5, 7, 9, 10
            // L2: 10 (Review), 11, 12, 13, 14, 16
            const dataPoints = [1, 3, 5, 7, 9, 10, 10, 11, 12, 13, 14, 16];

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Total Surahs Memorized',
                        data: dataPoints,
                        borderColor: '#059669', // Emerald 600
                        backgroundColor: 'rgba(5, 150, 105, 0.1)',
                        fill: true,
                        tension: 0.3,
                        pointBackgroundColor: '#d97706', // Amber 600
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Surahs' }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    return Array.isArray(label) ? label.join(' ') : label;
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- 3. Interactive Timeline Logic ---
        function renderTimelineButtons() {
            const container = document.getElementById('stage-buttons-container');
            
            curriculumData.forEach((stage, index) => {
                const btn = document.createElement('button');
                const isLevel1 = stage.level === 1;
                
                // Styling classes
                const baseClasses = "stage-btn w-full py-4 rounded-xl text-lg font-bold border-b-4 flex flex-col items-center justify-center";
                const colorClasses = isLevel1 
                    ? "bg-emerald-50 text-emerald-800 border-emerald-200 hover:bg-emerald-100 hover:border-emerald-300"
                    : "bg-amber-50 text-amber-900 border-amber-200 hover:bg-amber-100 hover:border-amber-300";
                
                btn.className = `${baseClasses} ${colorClasses}`;
                btn.onclick = () => loadStageDetail(index);
                btn.innerHTML = `
                    <span class="text-xs uppercase opacity-70 mb-1">Stage</span>
                    <span class="text-2xl">${stage.id}</span>
                `;
                
                // Add active state tracking
                btn.id = `btn-stage-${index}`;
                
                container.appendChild(btn);
            });
        }

        function loadStageDetail(index) {
            const data = curriculumData[index];
            const card = document.getElementById('detail-card');
            
            // Visual feedback on buttons
            document.querySelectorAll('.stage-btn').forEach((b, i) => {
                if(i === index) {
                    b.classList.add('ring-2', 'ring-offset-2', data.level === 1 ? 'ring-emerald-500' : 'ring-amber-500');
                } else {
                    b.classList.remove('ring-2', 'ring-offset-2', 'ring-emerald-500', 'ring-amber-500');
                }
            });

            // Color coding based on level
            const headerColor = data.level === 1 ? 'text-emerald-800' : 'text-amber-800';
            const accentBg = data.level === 1 ? 'bg-emerald-100' : 'bg-amber-100';
            const borderColor = data.level === 1 ? 'border-emerald-600' : 'border-amber-600';

            // Update Border Color
            card.className = `bg-white rounded-2xl shadow-lg border-t-8 ${borderColor} p-8 min-h-[500px] transition-all duration-300`;

            // HTML Template for Card
            const html = `
                <div class="flex justify-between items-start mb-6 pb-4 border-b border-stone-100 animate-fade-in">
                    <div>
                        <span class="inline-block px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${accentBg} ${headerColor} mb-2">
                            ${data.level === 1 ? 'Foundation Level' : 'Builders Level'}
                        </span>
                        <h2 class="text-4xl font-bold ${headerColor} font-arabic">${data.title}</h2>
                    </div>
                    <div class="text-5xl font-bold text-stone-100 select-none">#${data.id}</div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Column 1: Qaida & Mastery -->
                    <div class="space-y-6">
                        <div>
                            <h4 class="flex items-center text-stone-400 font-bold uppercase text-xs tracking-widest mb-2">
                                <span class="mr-2 text-xl">üìñ</span> Qaida Focus
                            </h4>
                            <p class="text-lg font-medium text-slate-800 leading-relaxed bg-stone-50 p-4 rounded-lg border-l-4 border-stone-300">
                                ${data.qaida}
                            </p>
                        </div>
                        
                        <div>
                            <h4 class="flex items-center text-stone-400 font-bold uppercase text-xs tracking-widest mb-2">
                                <span class="mr-2 text-xl">üèÜ</span> Mastery Requirement
                            </h4>
                            <p class="text-slate-700 italic border border-dashed border-stone-300 p-3 rounded">
                                "${data.mastery}"
                            </p>
                        </div>
                    </div>

                    <!-- Column 2: Hifz & Aqeedah -->
                    <div class="space-y-6">
                        <div>
                            <h4 class="flex items-center text-stone-400 font-bold uppercase text-xs tracking-widest mb-2">
                                <span class="mr-2 text-xl">ü§≤</span> Hifz Goal
                            </h4>
                            <div class="bg-gradient-to-r from-emerald-50 to-white p-3 rounded-lg border border-emerald-100">
                                <p class="font-bold text-emerald-900">${data.hifz}</p>
                            </div>
                        </div>

                        <div>
                            <h4 class="flex items-center text-stone-400 font-bold uppercase text-xs tracking-widest mb-2">
                                <span class="mr-2 text-xl">üí°</span> Islamic Studies
                            </h4>
                            <div class="bg-amber-50 p-3 rounded-lg border border-amber-100 text-amber-900 text-sm">
                                <p><strong>Topic:</strong> ${data.aqeedah}</p>
                            </div>
                        </div>

                        <div>
                            <h4 class="flex items-center text-stone-400 font-bold uppercase text-xs tracking-widest mb-2">
                                <span class="mr-2 text-xl">‚úèÔ∏è</span> Activity
                            </h4>
                            <p class="text-sm text-slate-600">${data.work}</p>
                        </div>
                    </div>
                </div>
            `;

            card.innerHTML = html;
        }

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            initCompositionChart();
            initGrowthChart();
            renderTimelineButtons();
            
            // Auto-load first stage
            loadStageDetail(0);
        });

    </script>
</body>
</html>
